{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\nlet userSelectedDate = null;\nconst startButton = document.querySelector('button[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');  \n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = (selectedDates[0]);\n      if (selectedDate <= new Date()) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please choose a date in the future\",\n            position: \"topCenter\",\n        });\n        startButton.disabled = true;\n      } else {\n        userSelectedDate = selectedDate;\n        startButton.disabled = false;\n      }\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nstartButton.addEventListener(\"click\", () => {\n    startButton.disabled = true;\n    document.querySelector(\"#datetime-picker\").disabled = true;\n    startCountdown();\n});\n\nfunction startCountdown() {\n    const countdownInterval = setInterval(() => {\n        const now = new Date();\n        const timeDifference = userSelectedDate - now;\n        if (timeDifference <= 0) {\n            clearInterval(countdownInterval);\n            updateTimer(0, 0, 0, 0);\n            document.querySelector(\"#datetime-picker\").disabled = false;\n            return;\n        }\n\n        const time = convertMs(timeDifference);\n        updateTimer(time.days, time.hours, time.minutes, time.seconds);\n    }, 1000);\n}\n\nfunction updateTimer(days, hours, minutes, seconds) {\n    daysElement.textContent = addLeadingZero(days);\n    hoursElement.textContent = addLeadingZero(hours);\n    minutesElement.textContent = addLeadingZero(minutes);\n    secondsElement.textContent = addLeadingZero(seconds);\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, `0`);\n}"],"names":["convertMs","ms","days","hours","minutes","seconds","userSelectedDate","startButton","daysElement","hoursElement","minutesElement","secondsElement","options","selectedDates","selectedDate","iziToast","flatpickr","startCountdown","countdownInterval","timeDifference","updateTimer","time","addLeadingZero","value"],"mappings":"2GAKA,SAASA,EAAUC,EAAI,CAMnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEH,IAAIC,EAAmB,KACvB,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAExDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAgBD,EAAc,CAAC,EACjCC,GAAgB,IAAI,MACtBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,WACtB,CAAS,EACDR,EAAY,SAAW,KAEvBD,EAAmBQ,EACnBP,EAAY,SAAW,GAE1B,CACL,EAEAS,EAAU,mBAAoBJ,CAAO,EAErCL,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvB,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtDU,GACJ,CAAC,EAED,SAASA,GAAiB,CACtB,MAAMC,EAAoB,YAAY,IAAM,CAExC,MAAMC,EAAiBb,EADX,IAAI,KAEhB,GAAIa,GAAkB,EAAG,CACrB,cAAcD,CAAiB,EAC/BE,EAAY,EAAG,EAAG,EAAG,CAAC,EACtB,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtD,MACH,CAED,MAAMC,EAAOrB,EAAUmB,CAAc,EACrCC,EAAYC,EAAK,KAAMA,EAAK,MAAOA,EAAK,QAASA,EAAK,OAAO,CAChE,EAAE,GAAI,CACX,CAEA,SAASD,EAAYlB,EAAMC,EAAOC,EAASC,EAAS,CAChDG,EAAY,YAAcc,EAAepB,CAAI,EAC7CO,EAAa,YAAca,EAAenB,CAAK,EAC/CO,EAAe,YAAcY,EAAelB,CAAO,EACnDO,EAAe,YAAcW,EAAejB,CAAO,CACvD,CAEA,SAASiB,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}